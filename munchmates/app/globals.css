@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* Font faces for Momo Trust Display */
@font-face {
  font-family: 'Momo Trust Display';
  src: url('/font/MomoTrustDisplay-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}
/* Only the Regular file is present in /public/font. To avoid 404s, map missing
   weights/styles to the available Regular file as a safe fallback until you
   add the proper Bold/Italic font files (or better: WOFF2/WOFF variants). */

@font-face {
  font-family: 'Momo Trust Display';
  src: url('/font/MomoTrustDisplay-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* Fallback declarations that reuse the Regular file when Bold/Italic files are
   missing. Replace or remove these when you add true Bold/Italic fonts. */
@font-face {
  font-family: 'Momo Trust Display';
  src: url('/font/MomoTrustDisplay-Regular.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Momo Trust Display';
  src: url('/font/MomoTrustDisplay-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: italic;
  font-display: swap;
}

/* Font faces for Noto Sans */
/* Noto Sans is loaded via next/font (see `lib/fonts.ts`) â€” keep local @font-face only for custom/locally-hosted fonts. */

/* CSS Custom Properties with proper cascade and organization */
:root {
  /* Core design tokens */
  --radius: 0.625rem;
  --radius-sm: calc(var(--radius) - 0.25rem);
  --radius-md: calc(var(--radius) - 0.125rem);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 0.25rem);

  /* Font families */
  --font-heading: 'Momo Trust Display', serif;
  --font-body: 'Noto Sans', system-ui, -apple-system, sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Monaco, "Cascadia Mono", "Segoe UI Mono", "Roboto Mono", "Oxygen Mono", "Ubuntu Monospace", "Source Code Pro", "Fira Mono", "Droid Sans Mono", "Courier New", monospace;

  /* Light theme - HSL for better theming control */
  --background: 25 56% 95%;
  --foreground: 230 18% 15%;
  --card: 25 56% 95%;
  --card-foreground: 230 18% 15%;
  --popover: 25 56% 95%;
  --popover-foreground: 230 18% 15%;
  --primary: 14 70% 62%;
  --primary-foreground: 25 56% 98%;
  --secondary: 14 30% 88%;
  --secondary-foreground: 14 70% 30%;
  --muted: 14 30% 92%;
  --muted-foreground: 230 10% 40%;
  --accent: 230 18% 30%;
  --accent-foreground: 25 56% 98%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 98%;
  --border: 14 30% 80%;
  --input: 14 30% 85%;
  --ring: 14 70% 62%;

  /* Sidebar - Light theme */
  --sidebar: 25 50% 97%;
  --sidebar-foreground: 230 18% 25%;
  --sidebar-primary: 14 70% 62%;
  --sidebar-primary-foreground: 25 56% 98%;
  --sidebar-accent: 14 30% 90%;
  --sidebar-accent-foreground: 14 70% 40%;
  --sidebar-border: 14 30% 85%;
  --sidebar-ring: 14 70% 62%;

  /* Chart colors */
  --chart-1: 14 70% 62%;
  --chart-2: 230 50% 50%;
  --chart-3: 160 60% 45%;
  --chart-4: 280 65% 60%;
  --chart-5: 40 90% 55%;
}

/* Dark theme */
.dark {
  --background: 230 18% 10%;
  --foreground: 25 56% 95%;
  --card: 230 18% 10%;
  --card-foreground: 25 56% 95%;
  --popover: 230 18% 10%;
  --popover-foreground: 25 56% 95%;
  --primary: 14 70% 62%;
  --primary-foreground: 25 56% 98%;
  --secondary: 14 30% 30%;
  --secondary-foreground: 14 70% 80%;
  --muted: 230 18% 20%;
  --muted-foreground: 230 10% 60%;
  --accent: 14 30% 50%;
  --accent-foreground: 25 56% 98%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 98%;
  --border: 230 18% 25%;
  --input: 230 18% 20%;
  --ring: 14 70% 62%;

  /* Sidebar - Dark theme */
  --sidebar: 230 18% 15%;
  --sidebar-foreground: 25 56% 90%;
  --sidebar-primary: 14 70% 62%;
  --sidebar-primary-foreground: 25 56% 98%;
  --sidebar-accent: 230 18% 25%;
  --sidebar-accent-foreground: 14 70% 80%;
  --sidebar-border: 230 18% 20%;
  --sidebar-ring: 14 70% 62%;

  /* Chart colors - Dark theme */
  --chart-1: 14 70% 62%;
  --chart-2: 230 50% 65%;
  --chart-3: 160 60% 55%;
  --chart-4: 280 65% 70%;
  --chart-5: 40 90% 65%;
}

/* Theme mapping for Tailwind */
@theme inline {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  
  /* Sidebar colors */
  --color-sidebar: hsl(var(--sidebar));
  --color-sidebar-foreground: hsl(var(--sidebar-foreground));
  --color-sidebar-primary: hsl(var(--sidebar-primary));
  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
  --color-sidebar-accent: hsl(var(--sidebar-accent));
  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
  --color-sidebar-border: hsl(var(--sidebar-border));
  --color-sidebar-ring: hsl(var(--sidebar-ring));
  
  /* Chart colors */
  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));
  
  /* Font families */
  --font-sans: var(--font-body);
  --font-mono: var(--font-mono);
  
  /* Border radius */
  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
}

/* Base styles */
@layer base {
  * {
    @apply border-border;
  }
  
  *:focus-visible {
    @apply outline-2 outline-ring/50 outline-offset-2;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-body);
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading);
    font-weight: 600;
    line-height: 1.25;
  }

  /* Improve text rendering */
  h1 {
    @apply text-4xl font-bold tracking-tight;
  }

  h2 {
    @apply text-3xl font-semibold tracking-tight;
  }

  h3 {
    @apply text-2xl font-semibold tracking-tight;
  }

  /* Selection styles */
  ::selection {
    @apply bg-primary/20 text-foreground;
  }

  /* Scrollbar styling */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-muted;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-border rounded-lg;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/40;
  }
}

/* Component styles */
@layer components {
  /* Custom focus styles for better accessibility */
  .focus-ring {
    @apply focus:outline-none focus-visible:outline-2 focus-visible:outline-ring/50 focus-visible:outline-offset-2;
  }
  
  /* Glass morphism effect */
  .glass {
    @apply bg-background/80 backdrop-blur-md border border-border/50;
  }
}

/* Utility styles */
@layer utilities {
  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* Text balance for better typography */
  .text-balance {
    text-wrap: balance;
  }
  
  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}